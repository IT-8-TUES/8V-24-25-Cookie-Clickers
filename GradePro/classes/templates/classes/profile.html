{% extends "base.html" %}
{% load static %}
{% block title %}Profile{% endblock %}
{% block css_files %}
<link rel="stylesheet" href="{% static 'classes/profile.css' %}" />
{% endblock %}

{% block content %}
<div class="profile-container">
  <div class="sidebar">
    <h2>{{ request.user.first_name }} {{ request.user.last_name }}</h2>
  </div>

  <div class="main-content">
    <h1>Your Subjects</h1>

    {% if subject_data %}
    <table class="grade-table">
      <tbody>
      {% for subject, data in subject_data.items %}
        <tr>
          <td class="index">{{ forloop.counter }}</td>

          <td class="subject-cell">
            <span class="subject-icon"></span>
            {{ subject.subject }}
          </td>

          <td class="grades-cell">
            {% for value in data.grades %}
              <span class="grade-badge grade-{{ value }}">{{ value }}</span>
            {% endfor %}

            {% if data.average %}
              <span class="avg-badge">Avg&nbsp;{{ data.average }}</span>
            {% endif %}
          </td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
    {% else %}
      <p>You are not enrolled in any classes yet.</p>
    {% endif %}
  </div>
</div>
{% endblock %}
